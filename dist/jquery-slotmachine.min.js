/*! jQuery Slot Machine Plugin - v0.1.0 - 2013-01-24
* https://github.com/justinedelson/jquery-slotmachine
* Copyright (c) 2013 Justin Edelson; Licensed MIT */
(function(e){function s(e){return e+"px"}function o(t){var i=0;return t.find("."+n).find("."+r).each(function(t,n){i+=e(n).height()}),i}function u(t,i,s){var u=t.find("."+n).first(),a=t.height(),f=o(t),l=u.css("top")==="auto"?0:parseInt(u.css("top"),10),c=s?l+i:l-i,h=f-a+c,p=function(){u.find("."+r).each(function(t,n){e(n).clone().appendTo(u)})};while(h<0)p(),f=o(t),h=f-a+c;if(c>0){var d=u.find("."+r).toArray().reverse();e.each(d,function(t,n){e(n).clone().prependTo(u)}),c-=f}u.css("top",c)}function a(t){t||(t=1),e.each(i,function(e,n){u(n,t,e%2!==0)})}function f(o,a){var f=a.width,l=a.height,c=f/2,h=e("<div/>"),p=o.attr("id"),d,v=e("<div/>").addClass(n).css({position:"relative"}),m=v.clone();h.addClass(t).height(l).width(c).css({overflow:"hidden",display:"inline-block","border-style":""}),d=h.clone(),h.append(v),d.append(m),p&&(h.attr("data-sourceId",p),d.attr("data-sourceId",p)),o.find("img").each(function(t,n){var i=e(n);e("<div/>").addClass(r).css({"background-image":"url("+i.attr("src")+")",height:s(i.attr("height")),width:s(f)}).appendTo(v),e("<div/>").addClass(r).css({"background-image":"url("+i.attr("src")+")","background-position":s("-"+c),height:s(i.attr("height")),width:s(f)}).appendTo(m),i.remove()}),o.append(h),o.append(d),i.push(h),i.push(d),a.initial&&(u(h,a.initial,!1),u(d,a.initial,!0))}var t="slotMachine-scroll-container",n="slotMachine-inner",r="slotMachine-image",i=[];e.fn.slotMachine=function(t){return this.each(function(n,r){f(e(r),t)})},function(){var t=0,n=0;e(window).scroll(function(){var r=0;n=e(window).scrollTop(),r=n-t,r!==0&&a(5*r),t=n})}()})(jQuery);